<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="UTF-8" /><title>OEMjs Enumeration App Tutorial</title><meta content="width=device-width, initial-scale=1" name="viewport" /><meta content="Learn how to build a front-end web application with enumeration attributes using a Low Code approach." name="description" /><link href="enumeration-tutorial_files/ebook.css" rel="stylesheet" type="text/css" /><meta content="OEMjs Enumeration App Tutorial: Using a Low Code approach for building a web app with enumeration attributes" name="og:title" /><meta content="JS/Firebase Web App" name="og:site_name" /><meta content="https://gwagner57.github.io/OEMjs/tutorials/enumeration/" name="og:url" /><meta content="en" name="og:locale" /><meta content="Learn how to build a front-end web application with enumeration attributes using a Low Code approach." name="og:description" /><meta content="article" name="og:type" /><style>/*<![CDATA[*/div.role-book-title-div .left {
    text-align: left;
}

h1.role-book-title {
    margin: 1em 0;
    padding-bottom: 0;
    border-bottom-style: none;
}/*]]>*/</style></head><body><section class="role-book" id="enumeration-tutorial"><div class="role-book-title-div"><h1 class="role-book-title">OEMjs Enumeration App Tutorial</h1><div class="role-content" id="enumeration-tutorial-content-1"><div id="enumeration-tutorial-content-1__subtitle">How to build a front-end web application with enumeration attributes using the Low Code approach of <a href="https://gwagner57.github.io/OEMjs/">OEMjs</a> available from the <a href="https://github.com/gwagner57/OEMjs">OEMjs GitHub repo</a></div> <div id="enumeration-tutorial-content-1__authors">Gerd Wagner <a href="mailto:G.Wagner@b-tu.de">G.Wagner@b-tu.de</a></div><p>Copyright Â© 2023 Gerd Wagner (<a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC</a>)</p><p>You may <a href="https://gwagner57.github.io/OEMjs/apps/enumerations/" target="_blank">run this example app from our server</a>.</p><p>Published 2023-06-19</p><p class="left">This tutorial explains how enumerations and enumeration attributes are handled in the <em>Object Event Modeling</em> JavaScript framework OEMjs, which allows low-code app development based on business object, business event and business activity classes defined with property ranges and other property constraints.</p><p class="left">The <em>enumeration tutorial</em> is Part 2 of our series of four tutorials about model-based development of front-end web applications with OEMjs. It shows how to build a web app where business object classes have enumeration attributes.</p><p class="left">The other parts of the tutorial are:</p><ul class="left"><li><p><a><a href="https://gwagner57.github.io/OEMjs/tutorials/introductory/index.html">Part 1</a></a>: Building a <strong>minimal</strong> app.</p></li><li><p><a href="https://webengineering.netlify.app/js-firebase/unidir-associations-app/">Part 3</a>: Managing (both <strong>unidirectional</strong> and <strong>bidirectional</strong>)<strong> associations</strong>, such as the associations between books and publishers, assigning a publisher to a book (and books to a publisher), and between books and authors, assigning authors to a book (and books to an author).</p></li><li><p><a href="https://webengineering.netlify.app/js-firebase/subtyping-app/">Part 4</a>: Handling <strong>subtype</strong> (inheritance) relationships between object types.</p></li></ul></div></div><div class="role-frontmatter" id="frontmatter"><section class="role-toc" id="toc"><h1 class="role-toc-title">Table of Contents</h1><ul class="role-booklist-entries"><li class="role-booklist-entry booklist-entry-for-lof"><a class="role-lof-ref" href="#lof">List of Figures</a></li><li class="role-booklist-entry booklist-entry-for-lot"><a class="role-lot-ref" href="#lot">List of Tables</a></li><li class="role-booklist-entry booklist-entry-for-chapter"><a class="role-chapter-ref" href="#chapter-1"><span class="role-label">Chapter <span class="role-number">1</span>. </span>Enumerations in OEMjs</a><ul class="role-booklist-entries"><li class="role-booklist-entry booklist-entry-for-section1"><a class="role-section1-ref" href="#Enums-and-EnumAtrribs-in-OEMjs"><span class="role-label"><span class="role-number">1.1</span>. </span>Defining and Using Enumerations in OEMjs Apps</a></li><li class="role-booklist-entry booklist-entry-for-section1"><a class="role-section1-ref" href="#Generated-UI"><span class="role-label"><span class="role-number">1.2</span>. </span>Model-Based User Interface Generation</a></li></ul></li><li class="role-booklist-entry booklist-entry-for-chapter"><a class="role-chapter-ref" href="#ch1"><span class="role-label">Chapter <span class="role-number">2</span>. </span>Enumerations and Enumeration Attributes</a><ul class="role-booklist-entries"><li class="role-booklist-entry booklist-entry-for-section1"><a class="role-section1-ref" href="#Concepts-Enumerations"><span class="role-label"><span class="role-number">2.1</span>. </span>Enumerations</a></li><li class="role-booklist-entry booklist-entry-for-section1"><a class="role-section1-ref" href="#Concepts-EnumerationsAttributes"><span class="role-label"><span class="role-number">2.2</span>. </span>Enumeration Attributes</a></li></ul></li><li class="role-booklist-entry booklist-entry-for-appendix"><a class="role-appendix-ref" href="#appendix-1"><span class="role-label"><span class="role-number">A</span>. </span>Appendix</a><ul class="role-booklist-entries"><li class="role-booklist-entry booklist-entry-for-section1"><a class="role-section1-ref" href="#Concepts-EnumerationsComputacionalLanguages"><span class="role-label"><span class="role-number">A.1</span>. </span>Enumerations in Computational Languages</a></li><li class="role-booklist-entry booklist-entry-for-section1"><a class="role-section1-ref" href="#Concepts-EnumerationAttributesDesignModel"><span class="role-label"><span class="role-number">A.2</span>. </span>Dealing with Enumeration Attributes in a Design Model</a></li></ul></li></ul></section><section class="role-lof" id="lof"><h1 class="role-lof-title">List of Figures</h1><ul class="role-booklist-entries"><li class="role-booklist-entry"><a class="role-figure-ref" href="#Concepts-Enumerations__fig3"><span class="role-label"><span class="role-number">2-1</span>. </span>An example of an extensible enumeration</a></li><li class="role-booklist-entry"><a class="role-figure-ref" href="#Concepts-EnumerationsAttributes__fig2"><span class="role-label"><span class="role-number">2-2</span>. </span>A single and a multiple <code>select</code> element with no selected option</a></li><li class="role-booklist-entry"><a class="role-figure-ref" href="#Concepts-EnumerationsAttributes__lof__3"><span class="role-label"><span class="role-number">2-3</span>. </span>A radio button group</a></li><li class="role-booklist-entry"><a class="role-figure-ref" href="#Concepts-EnumerationsAttributes__lof__4"><span class="role-label"><span class="role-number">2-4</span>. </span>Figure A single and a multiple <code>select</code> element with no selected option</a></li><li class="role-booklist-entry"><a class="role-figure-ref" href="#Concepts-EnumerationAttributesDesignModel__fig3"><span class="role-label"><span class="role-number">A-1</span>. </span>An information design model for the object type <code>Book</code></a></li></ul></section><section class="role-lot" id="lot"><h1 class="role-lot-title">List of Tables</h1><ul class="role-booklist-entries"><li class="role-booklist-entry"><a class="role-table-ref" href="#Concepts-Enumerations__lot__1"><span class="role-label"><span class="role-number">2-1</span>. </span>Representing an enumeration of records as a table</a></li><li class="role-booklist-entry"><a class="role-table-ref" href="#Concepts-EnumerationAttributesDesignModel__lot__2"><span class="role-label"><span class="role-number">A-1</span>. </span>Table Sample data for <code>Book</code></a></li></ul></section></div><section class="role-chapter" id="chapter-1"><h1 class="role-chapter-title"><span class="role-label">Chapter <span class="role-number">1</span>. </span>Enumerations in OEMjs</h1><section class="role-section1" id="Enums-and-EnumAtrribs-in-OEMjs"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">1.1</span>. </span>Defining and Using Enumerations in OEMjs Apps</h2><p>In OEMjs, enumerations can be defined in the following way:</p><table class="role-listing" style="width: 100%; border-collapse: collapse;"><colgroup class="listing-numbers-column" style="width: 2.0em;"></colgroup><tbody style="vertical-align: baseline;"><tr><td class="listing-numbers"><pre style="text-align: right; background-color: transparent; border-style: none; padding: 0; margin: 0;">1
2
3
4
5
6
7</pre></td><td class="listing-lines"><pre style="text-align: left; background-color: transparent; border-style: none; padding: 0; margin: 0;">const <b>BookCategoryEL</b> = new eNUMERATION(&quot;BookCategoryEL&quot;, 
    [&quot;novel&quot;,&quot;biography&quot;,&quot;textbook&quot;,&quot;other&quot;]);
const <b>LanguageEL</b> = new eNUMERATION(&quot;LanguageEL&quot;, 
    {&quot;en&quot;:&quot;English&quot;,&quot;de&quot;:&quot;German&quot;,&quot;fr&quot;:&quot;French&quot;,&quot;es&quot;:&quot;Spanish&quot;,
     &quot;it&quot;:&quot;Italian&quot;,&quot;pt&quot;:&quot;Portugese&quot;,&quot;gr&quot;:&quot;Greek&quot;,&quot;pl&quot;:&quot;Polish&quot;});
const <b>PublicationFormEL</b> = new eNUMERATION(&quot;PublicationFormEL&quot;, 
    [&quot;hardcover&quot;,&quot;paperback&quot;,&quot;ePub&quot;,&quot;PDF&quot;]);</pre></td></tr></tbody></table><p>Notice that a simple enumeration (like &quot;BookCategoryEL&quot;) is defined with a name and a list of labels for enumeration literals, while a code list enumeration (like &quot;LanguageEL&quot;) is defined with a name and a code list map consisting of a number of code-label pairs such as &quot;en&quot;:&quot;English&quot;.</p><p>Enumerations can be used for defining the range of attributes in the following way:</p><table class="role-listing" style="width: 100%; border-collapse: collapse;"><colgroup class="listing-numbers-column" style="width: 2.0em;"></colgroup><tbody style="vertical-align: baseline;"><tr><td class="listing-numbers"><pre style="text-align: right; background-color: transparent; border-style: none; padding: 0; margin: 0;">1
2
3
4
5
6
7
8
9</pre></td><td class="listing-lines"><pre style="text-align: left; background-color: transparent; border-style: none; padding: 0; margin: 0;">Book.properties = {
  ...
  &quot;category&quot;: {range: <b>BookCategoryEL</b>, label:&quot;Category&quot;},
  &quot;publicationForms&quot;: {range: <b>PublicationFormEL</b>, label:&quot;Publication forms&quot;, 
                       minCard: 1, maxCard: Infinity},
  &quot;originalLanguage&quot;: {range: <b>LanguageEL</b>, label:&quot;Original language&quot;},
  &quot;otherLanguages&quot;:   {range: <b>LanguageEL</b>, label:&quot;Other languages&quot;, 
                       maxCard: Infinity}
}</pre></td></tr></tbody></table></section><section class="role-section1" id="Generated-UI"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">1.2</span>. </span>Model-Based User Interface Generation</h2><p>Based on the property definitions of the <kbd>Book.mjs</kbd> module file, a default user interface (UI) is generated for each of the data management operations <em>Create</em>, <em>Retrieve</em>, <em>Update</em> and <em>Delete</em> (CRUD).</p><p>For the data management operation <em>Retrieve</em>, the following UI is created, showing all book records retrieved from the app's database with columns showing their enumeration attribute values:</p><figure id="Generated-UI__fig1-2"><img alt="A design model defining the object type Book with two invariants" class="responsive" height="319" src="enumeration-tutorial_files/Screenshot_Retrieve-all.png" width="796" /></figure><p>Notice that the enumeration attributes <em>Category</em> and <em>Original language</em> are single-valued, while the enumeration attributes <em>Publication forms</em> and <em>Other languages</em> are multi-valued.</p><p>For the data management operation <em>Update</em>, the following UI is created:</p><figure><img alt="A design model defining the object type Book with two invariants" class="responsive" height="594" src="enumeration-tutorial_files/Screenshot_Update.png" width="660" /></figure></section></section><section class="role-chapter" id="ch1"><h1 class="role-chapter-title"><span class="role-label">Chapter <span class="role-number">2</span>. </span>Enumerations and Enumeration Attributes</h1><section class="role-section1" id="Concepts-Enumerations"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">2.1</span>. </span>Enumerations</h2><p>In all application domains, there are string-valued attributes with a fixed list of possible string values. These attributes are called <em>enumeration attributes</em>, and the fixed value lists defining their possible string values are called <em>enumerations</em>. For instance, when we have to manage data about people, we often need to include information about their gender. The possible values of a <code>gender</code> attribute may be restricted to one of the <strong><em>enumeration labels</em></strong> &quot;male&quot;,&quot;female&quot; and &quot;undetermined&quot;, or to one of the <strong><em>enumeration codes</em></strong> &quot;M&quot;, &quot;F&quot; and &quot;U&quot;. Whenever we deal with codes, we also need to have their corresponding labels, at least in a legend explaining the meaning of each code.</p><p>Instead of using the enumeration string values as the internal values of an enumeration attribute, it is preferable to use a simplified internal representation for them, such as the positive integers 1, 2, 3, etc., which enumerate the possible values. However, since these integers do not reveal their meaning (which is indicated by the enumeration label) in program code, for readability we rather use special constants, called <strong><em>enumeration literals</em></strong>, such as <code>MALE</code> or <code>M</code>, prefixed by the name of the enumeration like in <code>this.gender = GenderEL.MALE</code>. Notice that we follow the convention that the names of enumeration literals are written all upper case, and that we also use the convention to suffix the name of an enumeration datatype with &quot;EL&quot; standing for &quot;enumeration literal&quot; (such that we can recognize from the name <code>GenderEL</code> that each instance of this datatype is a &quot;gender enumeration literal&quot;).</p><p>There are also enumerations having records as their instances, such that one of the record fields provides the name of the enumeration literals. An example of such an enumeration is the following list of <em>units of measurement</em>:</p><table border="1" id="Concepts-Enumerations__lot__1"><caption><span class="role-label">Table <span class="role-number">2-1</span>. </span>Representing an enumeration of records as a table</caption><thead><tr><th>Units of Measurement</th></tr><tr><th>Unit Symbol</th><th>Unit Name</th><th>Dimension</th></tr></thead><tbody><tr><td>m</td><td>meter</td><td>length</td></tr><tr><td>kg</td><td>kilogram</td><td>mass</td></tr><tr><td>g</td><td>gram</td><td>mass</td></tr><tr><td>s</td><td>second</td><td>time</td></tr><tr><td>ms</td><td>milisecond</td><td>time</td></tr></tbody></table><p>Notice that since both the &quot;Unit Symbol&quot; and the &quot;Unit Name&quot; fields are unique, either of them could be used for the name of the enumeration literals.</p><p>In summary, we can distinguish between the following three forms of enumerations:</p><ol><li><p><strong><em>simple enumerations</em></strong> define a list of self-explanatory enumeration labels;</p></li><li><p><strong><em>code lists</em></strong> define a list of code/label pairs.</p></li><li><p><strong><em>record enumerations</em></strong> consist of a list of records, so they are defined like classes with simple attributes defining the record fields.</p></li></ol><p>These three forms of enumerations are discussed in more detail below.</p><p>Notice that, since enumerations are used as the range of enumeration attributes, they are considered to be <em>datatypes</em>.</p><p>Enumerations may have further features. For instance, we may want to be able to define a new enumeration by extending an existing enumeration. In programming languages and in other computational languages, enumerations are implemented with different features in different ways. See also the <a href="http://en.wikipedia.org/wiki/Enumerated_type" target="_top">Wikipedia article on enumerations</a>.</p><section><h3>Simple enumerations</h3><p>A <em>simple enumeration</em> defines a fixed list of self-explanatory enumeration labels, like in the example of a <code>GenderEL</code> enumeration shown in the following UML class diagram:</p><figure><img alt="Class Book with String Length Constraints" src="enumeration-tutorial_files/GenderEL-Enumeration.svg" /></figure><p>Since the labels of a simple enumeration are being used, in capitalized form, as the names of the corresponding enumeration literals (<code>GenderEL.MALE</code>, <code>GenderEL.FEMALE</code>, etc.), we may also list the (all upper case) enumeration literals in the UML enumeration datatype, instead of the corresponding (lower or mixed case) enumeration labels.</p></section><section><h3>Code lists</h3><p>A <em>code list</em> is an enumeration that defines a fixed list of code/label pairs. Unfortunately, the UML concept of an enumeration datatype does not support the distinction between codes as enumeration literals and their labels. For defining both codes and labels in a UML class diagram in the form of an enumeration datatype, we may use the attribute compartment of the data type rectangle and use the codes as attribute names defining the enumeration literals, and set their initial values to the corresponding label. This approach results in a visual representation as in the following diagram:</p><figure><img alt="Class Book with String Length Constraints" src="enumeration-tutorial_files/GenderEL-CodeList.svg" /></figure><p>In the case of a code list, we can use both the codes or the labels as the names of enumeration literals, but using the codes seems preferable for brevity (<code>GenderEL.M</code>, <code>GenderEL.F</code>, etc.). For displaying the value of an enumeration attribute, it's an option to show not only the label, but also the code, like &quot;male (M)&quot;, provided that there is sufficient space. If space is an issue, only the code can be shown.</p></section><section><h3>Record enumerations</h3><p>A <em>record enumeration</em> defines a record type with a unique field designated to provide the enumeration literals, and a fixed list of records of that type. In general, a record type is defined by a set of field definitions (in the form of primitive datatype attributes), such that one of the unique fields is defined to be the enumeration literal field, and a set of operation definitions.</p><p>Unfortunately, record enumerations, as the most general form of an enumeration datatype, are not supported by the current version of UML (2.5) where the general form of an enumeration is defined as a special kind of datatype (with optional field and operation definitions) having an additional list of unique strings as enumeration literals (shown in a fourth compartment). The UML definition does neither allow designating one of the unique fields as the enumeration literal field, nor does it allow populating an enumeration with records.</p><p>Consequently, for showing a record enumeration in a UML class diagram, we need to find a workaround. For instance, if our modeling tool allows adding a drawing, we could draw a rectangle with four compartments, such that the first three of them correspond to the name, properties and operations compartments of a datatype rectangle, and the fourth one is a table with the names of properties/fields defined in the second compartment as column headers, as shown in the following figure.</p><table><colgroup><col /><col /><col /></colgroup><thead><tr><th colspan="3">UnitEL</th></tr></thead><tbody><tr><td colspan="3"><p>unitSymbol: String</p><p>unitName: String</p><p>dimension: String</p></td></tr><tr><th>Unit Symbol</th><th>Unit Name</th><th>Dimension</th></tr><tr><td>m</td><td>meter</td><td>length</td></tr><tr><td>kg</td><td>kilogram</td><td>mass</td></tr><tr><td>g</td><td>gram</td><td>mass</td></tr><tr><td>s</td><td>second</td><td>time</td></tr><tr><td>ms</td><td>millisecond</td><td>time</td></tr></tbody></table></section><section><h3>Extensible enumerations</h3><figure id="Concepts-Enumerations__fig3"><figcaption><span class="role-label">Figure <span class="role-number">2-1</span>. </span>An example of an extensible enumeration</figcaption> <img alt="An example of an extensible enumeration" src="enumeration-tutorial_files/Enumeration-Extensible-Example.svg" width="90" /></figure><p>There may be cases of enumerations that need to be extensible, that is, it must be possible to extend their list of enumeration values (labels or code/label pairs) by adding a new one. This can be expressed in a class diagram by appending an ellipsis to the list of enumeration values, as shown in <a class="role-figure-ref" href="#Concepts-Enumerations__fig3"><span class="role-label">Figure <span class="role-number">2-1</span>. </span>An example of an extensible enumeration</a>.</p><p>Since enumeration values are internally represented by enumeration literals, which are normally stored as plain positive integers in a database, a new enumeration value can only be added at the end of the value list such that it can be assigned a new index integer without re-assigning the indexes of other enumeration values. Otherwise, the mapping of enumeration indexes to corresponding enumeration values would not be preserved.</p><p>Alternatively, if new enumeration values have to be inserted in-between other enumeration values, and their indexes re-assigned, this implies that</p><ol><li><p>enumeration indexes are plain sequence numbers and do no longer identify an enumeration value;</p></li><li><p>the value of an enumeration literal can no longer be an enumeration index, but rather has to be an identifying string: preferably the enumeration code in the case of a code list, or the enumeration label, otherwise.</p></li></ol></section></section><section class="role-section1" id="Concepts-EnumerationsAttributes"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">2.2</span>. </span>Enumeration Attributes</h2><p>An <em>enumeration attribute</em> is an attribute that has an enumeration as its range.</p><p>In the user interface, an output field for an enumeration attribute would display the enumeration label, rather than its internal value, the corresponding enumeration index.</p><figure id="Concepts-EnumerationsAttributes__fig2"><figcaption><span class="role-label">Figure <span class="role-number">2-2</span>. </span>A single and a multiple <code>select</code> element with no selected option</figcaption> <img alt="A single and a multiple select element with no selected option" src="enumeration-tutorial_files/selection-lists.png" /> </figure><p>For allowing user input to an enumeration attribute, we can use the UI concept of a (drop-down) <em>selection list</em>, which may be implemented with an HTML <code>select</code> element, such that the enumeration labels would be used as the text content of its <code>option</code> elements, while the enumeration indexes would be used as their values. We have to distinguish between <em>single-valued</em> and <em>multi-valued</em> enumeration attributes. In the case of a <strong><em>single-valued</em></strong> enumeration attribute, we use a standard <code>select</code> element. In the case of a <strong><em>multi-valued</em></strong> enumeration attribute, we use a multi-<code>select</code> element with the HTML attribute setting <code>multiple=&quot;multiple&quot;</code>.</p><p>In the case of using a single-<code>select</code> element for an optional enumeration attribute, we need to include in its options an element like &quot;---&quot; for indicating that nothing has been selected. Then, the UI page for the CRUD use case &quot;Create&quot; shows &quot;---&quot; as the initially selected option.</p><p>For both cases, an example is shown in <a class="role-figure-ref" href="#Concepts-EnumerationsAttributes__fig2"><span class="role-label">Figure <span class="role-number">2-2</span>. </span>A single and a multiple <code>select</code> element with no selected option</a>. While the single <code>select</code> element for &quot;Original language&quot; shows the initially selected option &quot;---&quot; denoting &quot;nothing selected&quot;, the multiple <code>select</code> element &quot;Other available languages&quot; shows a small window displaying four of the options that can be selected.</p><p>For usability, the multiple selection list can only be implemented with an HTML <code>select</code> element, if the number of enumeration literals does not exceed a certain threshold (like 20), which depends on the number of options the user can see on the screen without scrolling.</p><figure id="Concepts-EnumerationsAttributes__lof__3"><figcaption><span class="role-label">Figure <span class="role-number">2-3</span>. </span>A radio button group</figcaption> <img alt="A radio button group" src="enumeration-tutorial_files/radio-button-group.png" /> </figure><p>For user input for a <strong><em>single-valued</em></strong> enumeration attribute, a <strong><em>radio button group</em></strong> can be used instead of a single selection list, if the number of enumeration literals is sufficiently small (say, not larger than 7). A radio button group is implemented with an HTML <code>fieldset</code> element acting as a container of labeled <code>input</code> elements of type &quot;radio&quot;, all having the same name, which is normally equal to the name of the represented enumeration attribute.</p><p><strong>A checkbox group</strong></p><figure id="Concepts-EnumerationsAttributes__lof__4"><figcaption><span class="role-label">Figure <span class="role-number">2-4</span>. </span>Figure A single and a multiple <code>select</code> element with no selected option</figcaption> <img alt="A checkbox group" src="enumeration-tutorial_files/checkbox-group.png" /> </figure><p>For user input for a <strong><em>multi-valued</em></strong> enumeration attribute, a <strong><em>checkbox group</em></strong> can be used instead of a multiple selection list, if the number of enumeration literals is sufficiently small (say, not larger than 7). A checkbox group is implemented with an HTML <code>fieldset</code> element acting as a container of labeled <code>input</code> elements of type &quot;checkbox&quot;, all having the same name, which is normally equal to the name of the represented enumeration attribute.</p></section></section><section class="role-appendix" id="appendix-1"><h1 class="role-appendix-title"><span class="role-label">Appendix <span class="role-number">A</span>. </span>Appendix</h1><section class="role-section1" id="Concepts-EnumerationsComputacionalLanguages"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">A.1</span>. </span>Enumerations in Computational Languages</h2><p>Defining enumerations is directly supported in information modeling languages (such as in <em>UML Class Diagrams</em>), in data schema languages (such as in <em>XML Schema</em>, but not in <em>SQL</em>) , and in many programming languages (such as in <em>C++</em> and <em>Java</em>, but not in <em>JavaScript</em>).</p><section><h3>Enumerations in SQL</h3><p>Unfortunately, standard SQL does not support enumerations. Some DBMS, such as <em>MySQL</em> and <em>Postgres</em>, provide their own extensions of SQL column definitions in the CREATE TABLE statement allowing to define enumeration-valued columns.</p><p>A <a href="https://dev.mysql.com/doc/refman/5.7/en/enum.html" target="_top">MySQL enumeration</a> is specified as a list of enumeration labels with the keyword <code>ENUM</code> within a column definition, like so:</p><pre class="role-listing"><span class="hl-keyword">CREATE</span> <span class="hl-keyword">TABLE</span> people (
    <span class="hl-keyword">name</span> <span class="hl-keyword">VARCHAR</span>(<span class="hl-number">40</span>),
    gender ENUM(<span class="hl-string">'MALE'</span>, <span class="hl-string">'FEMALE'</span>, <span class="hl-string">'UNDETERMINED'</span>)
);</pre><p>A <a href="http://postgresguide.com/sexy/enums.html" target="_top">Postgres enumeration</a> is specified as a special user-defined type that can be used in column definitions:</p><pre class="role-listing"><span class="hl-keyword">CREATE</span> <span class="hl-keyword">TYPE</span> GenderEL <span class="hl-keyword">AS</span> ENUM (<span class="hl-string">'MALE'</span>, <span class="hl-string">'FEMALE'</span>, <span class="hl-string">'UNDETERMINED'</span>);
<span class="hl-keyword">CREATE</span> <span class="hl-keyword">TABLE</span> people (
   <span class="hl-keyword">name</span> text,
   gender GenderEL
)</pre></section><section><h3>Enumerations in XML Schema</h3><p>In XML Schema, an enumeration datatype can be defined as a simple type restricting the primitive type <code>xs:string</code> in the following way:</p><pre class="role-listing"><span class="hl-tag">&lt;xs:simpleType</span> <span class="hl-attribute">name</span>=<span class="hl-value">&quot;BookCategoryEL&quot;</span><span class="hl-tag">&gt;</span>
  <span class="hl-tag">&lt;xs:restriction</span> <span class="hl-attribute">base</span>=<span class="hl-value">&quot;xs:string&quot;</span><span class="hl-tag">&gt;</span>
    <span class="hl-tag">&lt;xs:enumeration</span> <span class="hl-attribute">value</span>=<span class="hl-value">&quot;NOVEL&quot;</span><span class="hl-tag">/&gt;</span>
    <span class="hl-tag">&lt;xs:enumeration</span> <span class="hl-attribute">value</span>=<span class="hl-value">&quot;BIOGRAPHY&quot;</span><span class="hl-tag">/&gt;</span>
    <span class="hl-tag">&lt;xs:enumeration</span> <span class="hl-attribute">value</span>=<span class="hl-value">&quot;TEXTBOOK&quot;</span><span class="hl-tag">/&gt;</span>
    <span class="hl-tag">&lt;xs:enumeration</span> <span class="hl-attribute">value</span>=<span class="hl-value">&quot;OTHER&quot;</span><span class="hl-tag">/&gt;</span>
  <span class="hl-tag">&lt;/xs:restriction&gt;</span>
<span class="hl-tag">&lt;/xs:simpleType&gt;</span></pre></section><section><h3>Enumerations in JavaScript</h3><p>In JavaScript, we can define an enumeration as a special JS object having a property for each enumeration literal such that the property's name is the enumeration literal's name (the enumeration label or code in upper case) and its value is the corresponding enumeration index. One approach for implementing this is using the <code>Object.defineProperties</code> method:</p><pre class="role-listing"><span class="hl-keyword">var</span> BookCategoryEL = null;
<span class="hl-keyword">Object</span>.defineProperties( BookCategoryEL, {
  NOVEL: {value: <span class="hl-number">1</span>, writable: false},
  BIOGRAPHY: {value: <span class="hl-number">2</span>, writable: false},
  TEXTBOOK: {value: <span class="hl-number">3</span>, writable: false},
  OTHER: {value: <span class="hl-number">4</span>, writable: false},
  MAX: {value: <span class="hl-number">4</span>, writable: false},
  labels: {value:[<span class="hl-string">&quot;novel&quot;</span>,<span class="hl-string">&quot;biography&quot;</span>,<span class="hl-string">&quot;textbook&quot;</span>,<span class="hl-string">&quot;other&quot;</span>], 
           writable: false}
});</pre><p>This definition allows using the enumeration literals <code>BookCategoryEL.NOVEL</code>, <code>BookCategoryEL.BIOGRAPHY</code> etc., standing for the enumeration indexes 1, 2 , 3 and 4, in program statements. Notice how this definition takes care of the requirement that enumeration literals like <code>BookCategoryEL.NOVEL</code> are constants, the value of which cannot be changed during program execution. This is achieved with the help of the property descriptor <code>writable: false</code> in the <code>Object.defineProperties</code> statement.</p><p>We can also use a more generic approach and define a meta-class <code>Enumeration</code> for creating enumerations in the form of special JS objects:</p><pre class="role-listing"><span class="hl-keyword">function</span> Enumeration( enumLabels) {
  <span class="hl-keyword">var</span> i=<span class="hl-number">0</span>, LBL=<span class="hl-string">&quot;&quot;</span>;
  <span class="hl-keyword">this</span>.MAX = enumLabels.length;
  <span class="hl-keyword">this</span>.labels = enumLabels;
  <span class="hl-comment">// generate the enum literals as capitalized keys/properties</span>
  <span class="hl-keyword">for</span> (i=<span class="hl-number">1</span>; i AAAAAAA enumLabels.length; i++) {
    LBL = enumLabels[i-<span class="hl-number">1</span>].toUpperCase();
    <span class="hl-keyword">this</span>[LBL] = i;
  }
  <span class="hl-comment">// prevent any runtime change to the enumeration</span>
  <span class="hl-keyword">Object</span>.freeze( <span class="hl-keyword">this</span>);
};</pre><p>Using this <code>Enumeration</code> class allows to define a new enumeration in the following way: </p><pre class="role-listing"><span class="hl-keyword">var</span> BookCategoryEL = <span class="hl-keyword">new</span> Enumeration([<span class="hl-string">&quot;novel&quot;</span>,<span class="hl-string">&quot;biography&quot;</span>,<span class="hl-string">&quot;textbook&quot;</span>,<span class="hl-string">&quot;other&quot;</span>])</pre><p>Having an enumeration like <code>BookCategoryEL</code>, we can then check if an enumeration attribute like <code>category</code> has an admissible value by testing if its value is not smaller than 1 and not greater than <code>BookCategoryEL.MAX</code>. Also, the label can be retrieved in the following way:</p><pre class="role-listing">formEl.category.value = BookCategoryEL.labels[<span class="hl-keyword">this</span>.category - <span class="hl-number">1</span>];</pre><p>As an example, we consider the following model class <code>Book</code> with the enumeration attribute <code>category</code>:</p><pre class="role-listing"><span class="hl-keyword">function</span> Book( slots) {
  <span class="hl-keyword">this</span>.isbn = <span class="hl-string">&quot;&quot;</span>;     <span class="hl-comment">// string</span>
  <span class="hl-keyword">this</span>.title = <span class="hl-string">&quot;&quot;</span>;    <span class="hl-comment">// string</span>
  <span class="hl-keyword">this</span>.<strong>category</strong> = <span class="hl-number">0</span>;  <span class="hl-comment">// number (BookCategoryEL)</span>
  <span class="hl-keyword">if</span> (arguments.length &gt; <span class="hl-number">0</span>) {
    <span class="hl-keyword">this</span>.setIsbn( slots.isbn); 
    <span class="hl-keyword">this</span>.setTitle( slots.title); 
    <span class="hl-keyword">this</span>.<strong>setCategory</strong>( slots.category);
  }
};</pre><p>For validating input values for the enumeration attribute <code>category</code>, we can use the following check function:</p><pre class="role-listing">Book.<strong>checkCategory</strong> = <span class="hl-keyword">function</span> (c) {
  <span class="hl-keyword">if</span> (!c) {
    <span class="hl-keyword">return</span> <span class="hl-keyword">new</span> MandatoryValueConstraintViolation(
        <span class="hl-string">&quot;A category must be provided!&quot;</span>);
  } <span class="hl-keyword">else</span> <span class="hl-keyword">if</span> (!<span class="hl-keyword">Number</span>.isInteger(c) || c &lt; <span class="hl-number">1</span> || 
             <strong>c &gt; BookCategoryEL.MAX</strong>) {
    <span class="hl-keyword">return</span> <span class="hl-keyword">new</span> RangeConstraintViolation(
        <span class="hl-string">&quot;The category must be a positive integer &quot;</span> +
        <span class="hl-string">&quot;not greater than &quot;</span>+ BookCategoryEL.MAX +<span class="hl-string">&quot; !&quot;</span>);
  } <span class="hl-keyword">else</span> {
    <span class="hl-keyword">return</span> <span class="hl-keyword">new</span> NoConstraintViolation();
  }
};</pre><p>Notice how the range constraint defined by the enumeration <code>BookCategoryEL</code> is checked: it is tested if the input value <code>c</code> is a positive integer and if it is not greater than <code>BookCategoryEL.MAX</code>.</p></section></section><section class="role-section1" id="Concepts-EnumerationAttributesDesignModel"><h2 class="role-section1-title"><span class="role-label"><span class="role-number">A.2</span>. </span>Dealing with Enumeration Attributes in a Design Model</h2><p>We again consider the simple data management problem that we have considered before. So, again, the purpose of our app is to manage information about books. But now we have four additional <em>enumeration attributes</em>, as shown in the UML class diagram in <a class="role-figure-ref" href="#Concepts-EnumerationAttributesDesignModel__fig3"><span class="role-label">Figure <span class="role-number">A-1</span>. </span>An information design model for the object type <code>Book</code></a> below:</p><ol><li><p>the single-valued mandatory attribute <code>originalLanguage</code> with the enumeration datatype <code>LanguageEL</code> as its range,</p></li><li><p>the multi-valued optional attribute <code>otherAvailableLanguages</code> with range <code>LanguageEL</code>,</p></li><li><p>the single-valued mandatory attribute <code>category</code> with range <code>BookCategoryEL</code></p></li><li><p>the multi-valued mandatory attribute <code>publicationForms</code> with range <code>PublicationFormEL</code></p></li></ol><figure id="Concepts-EnumerationAttributesDesignModel__fig3"><figcaption><span class="role-label">Figure <span class="role-number">A-1</span>. </span>An information design model for the object type <code>Book</code></figcaption> <img alt="An information design model for the object type Book" src="enumeration-tutorial_files/Book-with-EnumAttr_DesM.svg" width="594" /> </figure><p>Notice that the attributes <code>otherAvailableLanguages</code> and <code>publicationForms</code> are <em>multivalued</em>, as indicated by their multiplicity expressions [*] and [1..*]. This means that the possible values of these attributes are sets of enumeration literals, such as the set {ePub, PDF}, which can be represented in JavaScript as a corresponding array list of enumeration literals, <code>[PublicationFormEL.EPUB, PublicationFormEL.PDF]</code>.</p><p>The meaning of the design model and its enumeration attributes can be illustrated by a sample data population:</p><table id="Concepts-EnumerationAttributesDesignModel__lot__2"><caption><span class="role-label">Table <span class="role-number">A-1</span>. </span>Table Sample data for <code>Book</code></caption><thead><tr><th>ISBN</th><th>Title</th><th>Original language</th><th>Other languages</th><th>Category</th><th>Publication forms</th></tr></thead><tbody><tr><td>0553345842</td><td>The Mind's I</td><td>English (en)</td><td>de, es, fr</td><td>novel</td><td>paperback, ePub, PDF</td></tr><tr><td>1463794762</td><td>The Critique of Pure Reason</td><td>German (de)</td><td>de, es, fr, pt, ru</td><td>other</td><td>paperback, PDF</td></tr><tr><td>1928565379</td><td>The Critique of Practical Reason</td><td>German (de)</td><td>de, es, fr, pt, ru</td><td>other</td><td>paperback</td></tr><tr><td>0465030793</td><td>I Am A Strange Loop</td><td>English (en)</td><td>es</td><td>textbook</td><td>hardcover, ePub</td></tr></tbody></table></section></section></section></body></html>